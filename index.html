<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplikasi Laporan Guru Bertugas Mingguan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .table-input {
            @apply w-8 text-center bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2;
        }
        .table-output {
            @apply w-8 text-center bg-gray-200 text-gray-700 text-sm rounded-lg p-2;
        }
        @media print {
            body * {
                visibility: hidden;
            }
            #print-area, #print-area * {
                visibility: visible;
            }
            #print-area {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
            }
            .no-print {
                display: none;
            }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        <div class="bg-white p-8 rounded-2xl shadow-lg mb-8 no-print">
            <h1 class="text-3xl font-bold text-center text-blue-600 mb-2">Aplikasi Laporan Guru Bertugas Mingguan</h1>
            <p class="text-center text-gray-500 mb-8">Isi maklumat di bawah untuk menjana laporan harian.</p>

            <!-- Bahagian Maklumat Asas -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div>
                    <label for="minggu" class="block mb-2 text-sm font-medium text-gray-900">Minggu</label>
                    <input type="number" id="minggu" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder="Cth: 29" required>
                </div>
                <div>
                    <label for="tarikh" class="block mb-2 text-sm font-medium text-gray-900">Tarikh</label>
                    <input type="date" id="tarikh" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" required>
                </div>
                <div>
                    <label for="hari" class="block mb-2 text-sm font-medium text-gray-900">Hari</label>
                    <input type="text" id="hari" class="bg-gray-200 border border-gray-300 text-gray-700 text-sm rounded-lg block w-full p-2.5" readonly>
                </div>
            </div>

            <div class="mb-8">
                <label class="block mb-2 text-sm font-medium text-gray-900">Guru Bertugas</label>
                <div id="guru-bertugas-container" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Dropdowns will be generated by JavaScript -->
                </div>
            </div>

            <!-- Bahagian Kehadiran Murid -->
            <h2 class="text-2xl font-bold text-gray-800 mb-4 border-b pb-2">Kehadiran Murid</h2>
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left text-gray-500">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-100">
                        <tr>
                            <th rowspan="2" class="px-4 py-3">Kelas</th>
                            <th colspan="3" class="px-4 py-3 text-center border-l">Bil. Sebenar</th>
                            <th colspan="3" class="px-4 py-3 text-center border-l">Bil. Hadir</th>
                            <th colspan="3" class="px-4 py-3 text-center border-l">Bil. Tidak Hadir</th>
                            <th rowspan="2" class="px-4 py-3 border-l">Nama Murid Tidak Hadir</th>
                        </tr>
                        <tr>
                            <th class="px-1 py-3 text-center border-l">L</th><th class="px-1 py-3 text-center">P</th><th class="px-1 py-3 text-center">J</th>
                            <th class="px-1 py-3 text-center border-l">L</th><th class="px-1 py-3 text-center">P</th><th class="px-1 py-3 text-center">J</th>
                            <th class="px-1 py-3 text-center border-l">L</th><th class="px-1 py-3 text-center">P</th><th class="px-1 py-3 text-center">J</th>
                        </tr>
                    </thead>
                    <tbody id="attendance-table">
                        <!-- Rows will be generated by JavaScript -->
                    </tbody>
                    <tfoot class="font-bold text-gray-800 bg-gray-100">
                        <tr>
                            <td class="px-4 py-2">Jumlah</td>
                            <td class="px-1 py-2 text-center border-l"><div id="total-sebenar-l" class="table-output">0</div></td>
                            <td class="px-1 py-2 text-center"><div id="total-sebenar-p" class="table-output">0</div></td>
                            <td class="px-1 py-2 text-center"><div id="total-sebenar-j" class="table-output">0</div></td>
                            <td class="px-1 py-2 text-center border-l"><div id="total-hadir-l" class="table-output">0</div></td>
                            <td class="px-1 py-2 text-center"><div id="total-hadir-p" class="table-output">0</div></td>
                            <td class="px-1 py-2 text-center"><div id="total-hadir-j" class="table-output">0</div></td>
                            <td class="px-1 py-2 text-center border-l"><div id="total-absen-l" class="table-output">0</div></td>
                            <td class="px-1 py-2 text-center"><div id="total-absen-p" class="table-output">0</div></td>
                            <td class="px-1 py-2 text-center"><div id="total-absen-j" class="table-output">0</div></td>
                            <td class="px-4 py-2 border-l"></td>
                        </tr>
                    </tfoot>
                </table>
            </div>

            <!-- Bahagian Kehadiran Guru & Staf -->
            <h2 class="text-2xl font-bold text-gray-800 mt-8 mb-4 border-b pb-2">Kehadiran Guru & Staf (AKS)</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4">
                <div class="grid grid-cols-3 gap-2 items-center">
                    <label class="font-medium">Kehadiran Guru:</label>
                    <input type="number" id="guru-hadir" class="table-input" placeholder="Hadir">
                    <input type="number" id="guru-total" class="table-input" placeholder="Jumlah">
                </div>
                <div class="grid grid-cols-3 gap-2 items-center">
                     <label class="font-medium">Peratus:</label>
                    <div id="guru-peratus" class="col-span-2 table-output text-left">0.00%</div>
                </div>
                 <div class="grid grid-cols-3 gap-2 items-center">
                    <label class="font-medium">Kehadiran AKS:</label>
                    <input type="number" id="aks-hadir" class="table-input" placeholder="Hadir">
                    <input type="number" id="aks-total" class="table-input" placeholder="Jumlah">
                </div>
                <div class="grid grid-cols-3 gap-2 items-center">
                     <label class="font-medium">Peratus:</label>
                    <div id="aks-peratus" class="col-span-2 table-output text-left">0.00%</div>
                </div>
            </div>

            <!-- Bahagian Catatan -->
            <h2 class="text-2xl font-bold text-gray-800 mt-8 mb-4 border-b pb-2">Catatan</h2>
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6">
                <!-- Helper function creates these sections -->
                <div id="catatan-kebersihan"></div>
                <div id="catatan-keceriaan"></div>
                <div id="catatan-kesihatan"></div>
                <div id="catatan-keselamatan"></div>
                <div id="catatan-disiplin"></div>
            </div>

            <div class="mt-6">
                <div class="flex items-center">
                    <input id="rmt" type="checkbox" value="" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2">
                    <label for="rmt" class="ml-2 text-sm font-medium text-gray-900">RMT Disediakan mengikut menu</label>
                </div>
            </div>
             <div class="mt-6">
                <label for="hal-lain" class="block mb-2 text-sm font-medium text-gray-900">Hal-hal Lain (cth: Keberadaan Guru/AKP)</label>
                <textarea id="hal-lain" rows="4" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder="1. EN IDRIS - CRK&#10;2. PN RUBIAH - CUTI SAKIT"></textarea>
            </div>

             <!-- Bahagian Disediakan Oleh -->
             <div class="mt-8">
                <label for="disediakan-oleh" class="block mb-2 text-sm font-medium text-gray-900">Disediakan Oleh</label>
                <input type="text" id="disediakan-oleh" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full md:w-1/2 p-2.5" placeholder="Nama Guru">
            </div>

            <div class="mt-8 text-center">
                <button onclick="generateReport()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition duration-300">Jana Laporan & Cetak</button>
            </div>
        </div>

        <!-- Area for printing -->
        <div id="print-area" class="hidden"></div>
    </div>

    <script>
        const teacherNames = [
            "IDRIS BIN MAJID",
            "VERALY@SHEILA J.DOYOU",
            "NORNEE KATALLEH",
            "ABDUL KADIR SUMAN",
            "JANIZAN BIN MOHD JANDI",
            "MOHD REDZWAN BIN MOKSIN",
            "NURZALINAH BINTI AMZAH",
            "AG. MOHD AMIRUL BIN AG. DAMIT",
            "MITTCHELL STANLLEY MICHAEL",
            "NORAZLAN BIN SAHAD",
            "NURFAUZANI YUMNA BINTI KHAZALI"
        ];

        const guruContainer = document.getElementById('guru-bertugas-container');
        for (let i = 1; i <= 4; i++) {
            const select = document.createElement('select');
            select.id = `guru-${i}`;
            select.className = "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5";
            
            let optionsHTML = `<option value="">Pilih Guru ${i}</option>`;
            teacherNames.forEach(name => {
                optionsHTML += `<option value="${name}">${name}</option>`;
            });
            select.innerHTML = optionsHTML;
            guruContainer.appendChild(select);
        }

        const classes = ["PRA SEK", "TAHUN 1", "TAHUN 2", "TAHUN 3", "TAHUN 4", "TAHUN 5", "TAHUN 6"];
        const attendanceTable = document.getElementById('attendance-table');
        
        // Initialize table
        classes.forEach(cls => {
            const rowId = cls.replace(/\s+/g, '-').toLowerCase();
            const row = document.createElement('tr');
            row.id = `row-${rowId}`;
            row.className = 'bg-white border-b';
            row.innerHTML = `
                <td class="px-4 py-2 font-medium text-gray-900 whitespace-nowrap">${cls}</td>
                <td class="px-1 py-2 border-l"><input type="number" id="sebenar-l-${rowId}" class="table-input" value="0"></td>
                <td class="px-1 py-2"><input type="number" id="sebenar-p-${rowId}" class="table-input" value="0"></td>
                <td class="px-1 py-2"><div id="sebenar-j-${rowId}" class="table-output">0</div></td>
                <td class="px-1 py-2 border-l"><input type="number" id="hadir-l-${rowId}" class="table-input" value="0"></td>
                <td class="px-1 py-2"><input type="number" id="hadir-p-${rowId}" class="table-input" value="0"></td>
                <td class="px-1 py-2"><div id="hadir-j-${rowId}" class="table-output">0</div></td>
                <td class="px-1 py-2 border-l"><div id="absen-l-${rowId}" class="table-output">0</div></td>
                <td class="px-1 py-2"><div id="absen-p-${rowId}" class="table-output">0</div></td>
                <td class="px-1 py-2"><div id="absen-j-${rowId}" class="table-output">0</div></td>
                <td class="px-4 py-2 border-l"><input type="text" id="absen-nama-${rowId}" class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg p-2" placeholder="Nama murid..."></td>
            `;
            attendanceTable.appendChild(row);
        });

        // Initialize Catatan sections
        const catatanItems = {
            'kebersihan': 'Kebersihan', 'keceriaan': 'Keceriaan', 'kesihatan': 'Kesihatan', 
            'keselamatan': 'Keselamatan', 'disiplin': 'Disiplin'
        };
        const ratings = ['Cemerlang', 'Baik', 'Sederhana', 'Lemah'];

        Object.entries(catatanItems).forEach(([key, value]) => {
            const container = document.getElementById(`catatan-${key}`);
            let html = `<h3 class="font-medium text-gray-900 mb-2">${value}</h3>`;
            ratings.forEach(rating => {
                html += `
                <div class="flex items-center mb-1">
                    <input id="${key}-${rating.toLowerCase()}" type="radio" value="${rating}" name="${key}" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500">
                    <label for="${key}-${rating.toLowerCase()}" class="ml-2 text-sm font-medium text-gray-700">${rating}</label>
                </div>`;
            });
            container.innerHTML = html;
        });


        // Auto set date and day
        const dateInput = document.getElementById('tarikh');
        const dayInput = document.getElementById('hari');
        const days = ['AHAD', 'ISNIN', 'SELASA', 'RABU', 'KHAMIS', 'JUMAAT', 'SABTU'];
        
        dateInput.valueAsDate = new Date();
        dayInput.value = days[new Date().getDay()];

        dateInput.addEventListener('change', () => {
            const date = new Date(dateInput.value);
            dayInput.value = days[date.getDay()];
        });

        function calculateRow(rowId) {
            const sebenarL = parseInt(document.getElementById(`sebenar-l-${rowId}`).value) || 0;
            const sebenarP = parseInt(document.getElementById(`sebenar-p-${rowId}`).value) || 0;
            const hadirL = parseInt(document.getElementById(`hadir-l-${rowId}`).value) || 0;
            const hadirP = parseInt(document.getElementById(`hadir-p-${rowId}`).value) || 0;

            const sebenarJ = sebenarL + sebenarP;
            const hadirJ = hadirL + hadirP;
            const absenL = sebenarL - hadirL;
            const absenP = sebenarP - hadirP;
            const absenJ = sebenarJ - hadirJ;

            document.getElementById(`sebenar-j-${rowId}`).textContent = sebenarJ;
            document.getElementById(`hadir-j-${rowId}`).textContent = hadirJ;
            document.getElementById(`absen-l-${rowId}`).textContent = absenL;
            document.getElementById(`absen-p-${rowId}`).textContent = absenP;
            document.getElementById(`absen-j-${rowId}`).textContent = absenJ;
            
            calculateAllTotals();
        }

        function calculateAllTotals() {
            let totalSebenarL = 0, totalSebenarP = 0, totalHadirL = 0, totalHadirP = 0;

            classes.forEach(cls => {
                const rowId = cls.replace(/\s+/g, '-').toLowerCase();
                totalSebenarL += parseInt(document.getElementById(`sebenar-l-${rowId}`).value) || 0;
                totalSebenarP += parseInt(document.getElementById(`sebenar-p-${rowId}`).value) || 0;
                totalHadirL += parseInt(document.getElementById(`hadir-l-${rowId}`).value) || 0;
                totalHadirP += parseInt(document.getElementById(`hadir-p-${rowId}`).value) || 0;
            });
            
            document.getElementById('total-sebenar-l').textContent = totalSebenarL;
            document.getElementById('total-sebenar-p').textContent = totalSebenarP;
            document.getElementById('total-sebenar-j').textContent = totalSebenarL + totalSebenarP;
            
            document.getElementById('total-hadir-l').textContent = totalHadirL;
            document.getElementById('total-hadir-p').textContent = totalHadirP;
            document.getElementById('total-hadir-j').textContent = totalHadirL + totalHadirP;

            document.getElementById('total-absen-l').textContent = totalSebenarL - totalHadirL;
            document.getElementById('total-absen-p').textContent = totalSebenarP - totalHadirP;
            document.getElementById('total-absen-j').textContent = (totalSebenarL + totalSebenarP) - (totalHadirL + totalHadirP);
        }

        function calculatePercentages() {
            const guruHadir = parseInt(document.getElementById('guru-hadir').value) || 0;
            const guruTotal = parseInt(document.getElementById('guru-total').value) || 0;
            const aksHadir = parseInt(document.getElementById('aks-hadir').value) || 0;
            const aksTotal = parseInt(document.getElementById('aks-total').value) || 0;

            const guruPeratus = guruTotal > 0 ? (guruHadir / guruTotal * 100).toFixed(2) : 0;
            const aksPeratus = aksTotal > 0 ? (aksHadir / aksTotal * 100).toFixed(2) : 0;

            document.getElementById('guru-peratus').textContent = `${guruPeratus}%`;
            document.getElementById('aks-peratus').textContent = `${aksPeratus}%`;
        }

        // Add event listeners to all input fields for real-time calculation
        document.querySelectorAll('.table-input').forEach(input => {
            input.addEventListener('input', () => {
                const rowId = input.id.split('-').slice(2).join('-');
                if (rowId) calculateRow(rowId);
            });
        });

        document.getElementById('guru-hadir').addEventListener('input', calculatePercentages);
        document.getElementById('guru-total').addEventListener('input', calculatePercentages);
        document.getElementById('aks-hadir').addEventListener('input', calculatePercentages);
        document.getElementById('aks-total').addEventListener('input', calculatePercentages);
        
        // Initial Calculation
        calculateAllTotals();
        calculatePercentages();
        
        // Generate Report for Printing
        function generateReport() {
            const minggu = document.getElementById('minggu').value;
            const tarikh = new Date(document.getElementById('tarikh').value).toLocaleDateString('ms-MY', { day: '2-digit', month: '2-digit', year: 'numeric' });
            const hari = document.getElementById('hari').value;
            
            const guru1 = document.getElementById('guru-1').value;
            const guru2 = document.getElementById('guru-2').value;
            const guru3 = document.getElementById('guru-3').value;
            const guru4 = document.getElementById('guru-4').value;
            const guruList = [guru1, guru2, guru3, guru4]
                .filter(name => name.trim() !== '')
                .map((name, index) => `${index + 1}) ${name}`);
            const guruBertugas = guruList.join('<br>');

            let attendanceHTML = '';
            classes.forEach(cls => {
                const rowId = cls.replace(/\s+/g, '-').toLowerCase();
                attendanceHTML += `
                    <tr>
                        <td class="border px-2 py-1">${cls}</td>
                        <td class="border px-2 py-1 text-center">${document.getElementById(`sebenar-l-${rowId}`).value}</td>
                        <td class="border px-2 py-1 text-center">${document.getElementById(`sebenar-p-${rowId}`).value}</td>
                        <td class="border px-2 py-1 text-center">${document.getElementById(`sebenar-j-${rowId}`).textContent}</td>
                        <td class="border px-2 py-1 text-center">${document.getElementById(`hadir-l-${rowId}`).value}</td>
                        <td class="border px-2 py-1 text-center">${document.getElementById(`hadir-p-${rowId}`).value}</td>
                        <td class="border px-2 py-1 text-center">${document.getElementById(`hadir-j-${rowId}`).textContent}</td>
                        <td class="border px-2 py-1 text-center">${document.getElementById(`absen-l-${rowId}`).textContent}</td>
                        <td class="border px-2 py-1 text-center">${document.getElementById(`absen-p-${rowId}`).textContent}</td>
                        <td class="border px-2 py-1 text-center">${document.getElementById(`absen-j-${rowId}`).textContent}</td>
                        <td class="border px-2 py-1">${document.getElementById(`absen-nama-${rowId}`).value}</td>
                    </tr>
                `;
            });
             
            let catatanCheckboxes = '';
            Object.entries(catatanItems).forEach(([key, value]) => {
                const checked = document.querySelector(`input[name="${key}"]:checked`);
                catatanCheckboxes += `
                    <div class="mb-2">
                        <h4 class="font-bold inline">${value}:</h4>
                        <span>${checked ? checked.value : 'Tidak ditanda'}</span>
                    </div>`;
            });

            // Summary calculations for report
            const prasekolahHadir = document.getElementById('hadir-j-pra-sek').textContent;
            const prasekolahTotal = document.getElementById('sebenar-j-pra-sek').textContent;
            const prasekolahPeratus = prasekolahTotal > 0 ? (prasekolahHadir / prasekolahTotal * 100).toFixed(2) : 0;

            const perdanaHadir = parseInt(document.getElementById('total-hadir-j').textContent) - parseInt(prasekolahHadir);
            const perdanaTotal = parseInt(document.getElementById('total-sebenar-j').textContent) - parseInt(prasekolahTotal);
            const perdanaPeratus = perdanaTotal > 0 ? (perdanaHadir / perdanaTotal * 100).toFixed(2) : 0;
            
            const printArea = document.getElementById('print-area');
            printArea.innerHTML = `
                <div class="p-8 font-sans">
                    <h1 class="text-xl font-bold text-center mb-4">LAPORAN GURU BERTUGAS MINGGUAN</h1>
                    <div class="grid grid-cols-4 gap-4 mb-4 text-sm">
                        <div><strong>MINGGU:</strong> ${minggu}</div>
                        <div><strong>TARIKH:</strong> ${tarikh}</div>
                        <div><strong>HARI:</strong> ${hari}</div>
                    </div>
                    <div class="mb-4 text-sm">
                        <p class="font-bold">GURU BERTUGAS:</p>
                        <div>${guruBertugas}</div>
                    </div>

                    <table class="w-full text-xs border-collapse border border-black mb-4">
                        <thead>
                            <tr class="bg-gray-200">
                                <th rowspan="2" class="border border-black px-2 py-1">KELAS</th>
                                <th colspan="3" class="border border-black px-2 py-1">BIL. SEBENAR</th>
                                <th colspan="3" class="border border-black px-2 py-1">BIL. HADIR</th>
                                <th colspan="3" class="border border-black px-2 py-1">BIL. TIDAK HADIR</th>
                                <th rowspan="2" class="border border-black px-2 py-1">MURID TIDAK HADIR</th>
                            </tr>
                             <tr class="bg-gray-200">
                                <th class="border border-black">L</th><th class="border border-black">P</th><th class="border border-black">J</th>
                                <th class="border border-black">L</th><th class="border border-black">P</th><th class="border border-black">J</th>
                                <th class="border border-black">L</th><th class="border border-black">P</th><th class="border border-black">J</th>
                            </tr>
                        </thead>
                        <tbody>${attendanceHTML}</tbody>
                        <tfoot class="font-bold bg-gray-200">
                             <tr>
                                <td class="border px-2 py-1">JUMLAH</td>
                                <td class="border px-2 py-1 text-center">${document.getElementById('total-sebenar-l').textContent}</td>
                                <td class="border px-2 py-1 text-center">${document.getElementById('total-sebenar-p').textContent}</td>
                                <td class="border px-2 py-1 text-center">${document.getElementById('total-sebenar-j').textContent}</td>
                                <td class="border px-2 py-1 text-center">${document.getElementById('total-hadir-l').textContent}</td>
                                <td class="border px-2 py-1 text-center">${document.getElementById('total-hadir-p').textContent}</td>
                                <td class="border px-2 py-1 text-center">${document.getElementById('total-hadir-j').textContent}</td>
                                <td class="border px-2 py-1 text-center">${document.getElementById('total-absen-l').textContent}</td>
                                <td class="border px-2 py-1 text-center">${document.getElementById('total-absen-p').textContent}</td>
                                <td class="border px-2 py-1 text-center">${document.getElementById('total-absen-j').textContent}</td>
                                <td class="border px-2 py-1"></td>
                            </tr>
                        </tfoot>
                    </table>
                    
                    <div class="text-sm mb-4 grid grid-cols-2 gap-x-8">
                        <div>
                            <p><strong>KEHADIRAN GURU:</strong> ${document.getElementById('guru-hadir').value || 0}/${document.getElementById('guru-total').value || 0}</p>
                            <p><strong>KEHADIRAN AKS:</strong> ${document.getElementById('aks-hadir').value || 0}/${document.getElementById('aks-total').value || 0}</p>
                            <p><strong>KEHADIRAN MURID PRASEKOLAH:</strong> ${prasekolahHadir}/${prasekolahTotal}</p>
                            <p><strong>KEHADIRAN MURID PERDANA:</strong> ${perdanaHadir}/${perdanaTotal}</p>
                        </div>
                        <div>
                            <p><strong>PERATUS:</strong> ${document.getElementById('guru-peratus').textContent}</p>
                            <p><strong>PERATUS:</strong> ${document.getElementById('aks-peratus').textContent}</p>
                            <p><strong>PERATUS:</strong> ${prasekolahPeratus}%</p>
                            <p><strong>PERATUS:</strong> ${perdanaPeratus}%</p>
                        </div>
                    </div>

                    <h2 class="text-md font-bold mt-4">CATATAN</h2>
                    <div class="border border-black p-2 text-sm">
                        <div class="grid grid-cols-3 gap-4 mb-2">${catatanCheckboxes}</div>
                        <p><strong>RMT:</strong> ${document.getElementById('rmt').checked ? 'Disediakan mengikut menu' : 'Tidak disediakan'}</p>
                        <p class="mt-2"><strong>HAL-HAL LAIN:</strong></p>
                        <div style="white-space: pre-wrap;">${document.getElementById('hal-lain').value}</div>
                    </div>

                    <div class="mt-24 text-sm">
                        <p>DISEDIAKAN OLEH:</p>
                        <div class="mt-16 border-t border-black pt-2">
                           (${document.getElementById('disediakan-oleh').value || '...................................'})
                        </div>
                    </div>

                </div>
            `;
            printArea.classList.remove('hidden');
            window.print();
            printArea.classList.add('hidden');
        }

    </script>
</body>
</html>

